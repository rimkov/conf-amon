<?xml version="1.0" encoding="utf-8"?>

<creole>
    <containers>
        <container name="dns" ip='adresse_ip_dns'>
            <package>dns-pkg</package>
            <service>bind9</service>
            <file name='/etc/bind/spcl.options'/>
            <file filelist='agriates' name='/etc/bind/agriates.zones'/>
        </container>
    </containers>
    <!--************************************************************************************************* -->
    <variables>
        <family name='Interface-0'>
            <variable name='dns_master_eth0' type='string' description="Amon master DNS de cette zone ?" >
                <value>non</value>
            </variable>
        </family>
        <family name='Interface-1'>
            <variable name='dns_master_eth1' type='string' description="Amon master DNS de cette zone ?" >
                <value>oui</value>
            </variable>
        </family>
        <family name='Interface-2'>
            <variable name='dns_master_eth2' type='string' description="Amon master DNS de cette zone ?" >
                <value>oui</value>
            </variable>
        </family>
        <family name='Interface-3'>
            <variable name='dns_master_eth3' type='string' description="Amon master DNS de cette zone ?" >
                <value>oui</value>
            </variable>
        </family>
        <family name='Interface-4'>
            <variable name='dns_master_eth4' type='string' description="Amon master DNS de cette zone ?" >
                <value>oui</value>
            </variable>
        </family>
        <family name='zones-dns' mode='expert'>
            <variable name='nom_domaine_local_supp' type='string' description='Nom domaine local supplémentaire ou rien' multi='True' />
            <variable name='nom_zone_forward' type='string' description='Nom DNS de la zone' multi='True' />
            <variable name='ip_dns_zone_forward' type='ip' description='Adresse IP du serveur DNS de la zone' />
            <variable name='nom_host_dns' type='string' description='Nom DNS complet de la machine à ajouter dans le DNS' multi='True' />
            <variable name='ip_host_dns' type='ip' description='Adresse IP de la machine à ajouter dans le DNS' />
        </family>
        <family name='RVP' hidden='True'>
            <variable name='adresse_dns_agriates' type='ip' description='Adresse du DNS permettant de resoudre les in.ac-acad.fr' multi='True'/>
            <variable name='agriates_member' exists='False' type='string' hidden='True'>
                <value>non</value>
            </variable>
        </family>
        <family name='Interface-Virt' mode='expert'>
            <variable name='adresse_ip_dns' type='ip' description="Adresse IP de DNS">
                <value>192.168.30.21</value>
            </variable>
        </family>
        <separators>
            <separator name='dns_master_eth0'>Configuration DNS sur l'interface</separator>
            <separator name='dns_master_eth1'>Configuration DNS sur l'interface</separator>
            <separator name='dns_master_eth2'>Configuration DNS sur l'interface</separator>
            <separator name='dns_master_eth3'>Configuration DNS sur l'interface</separator>
            <separator name='dns_master_eth4'>Configuration DNS sur l'interface</separator>
            <separator name='nom_host_dns'>Ajout d'hôtes dans le DNS</separator>
            <separator name='nom_zone_forward'>Forward de zone DNS</separator>
        </separators>
    </variables>
    <constraints>
        <check name="valid_enum" target='dns_master_eth0'>
            <param>['oui','non']</param>
        </check>
        <check name="valid_enum" target='dns_master_eth1'>
            <param>['oui','non']</param>
        </check>
        <check name="valid_enum" target='dns_master_eth2'>
            <param>['oui','non']</param>
        </check>
        <check name="valid_enum" target='dns_master_eth3'>
            <param>['oui','non']</param>
        </check>
        <check name="valid_enum" target='dns_master_eth4'>
            <param>['oui','non']</param>
        </check>
        <group master='nom_host_dns'>
            <slave>ip_host_dns</slave>
        </group>
        <group master='nom_zone_forward'>
            <slave>ip_dns_zone_forward</slave>
        </group>
        <condition name='hidden_if_in' source='nom_zone_forward'>
            <param>non</param>
            <target type='variable'>ip_dns_zone_forward</target>
        </condition>
        <condition name='hidden_if_in' source='agriates_member'>
            <param>non</param>
            <target type='variable'>adresse_dns_agriates</target>
            <target type='filelist'>agriates</target>
        </condition>
    </constraints>
    <help/>
</creole>
<!-- vim: ts=4 sw=4 expandtab
-->
