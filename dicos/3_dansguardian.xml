<?xml version='1.0' encoding='utf-8'?>

<creole>
        <files>
                <file name='/usr/share/eole/dansguardian/dansguardian1.conf' />
                <file name='/usr/share/eole/dansguardian/dansguardian2.conf' />
		<file name='/usr/share/dansguardian/languages/french/fancydmtemplate.html' />
        </files>
        <variables>
                 <family name='dansguardian' mode='expert'>
	                    <separators>
                	    	<separator name='dans_num_opt_filters'>Configuration commune aux deux zones</separator>
                	    	<separator name='maxchildren1'>Filtre web 1</separator>
                	    	<separator name='maxchildren2'>Filtre web 2</separator>
                        </separators>
                         <variable name="dans_num_opt_filters" type="string" description='Nombre de politiques optionnelles de filtrage par zone'>
                                 <value>3</value>
                         </variable>
                         <variable name="maxchildren1" type="number" description=''>
                                 <value>80</value>
                         </variable>
                        <variable name="minchildren1" type="number" description=''>
                                <value>8</value>
                        </variable>
                        <variable name="minsparechildren1" type="number" description=''>
                                <value>4</value>
                        </variable>
                        <variable name="maxsparechildren1" type="number" description=''>
                                <value>32</value>
                        </variable>
                        <variable name="preforkchildren1" type="number" description=''>
                                <value>6</value>
                        </variable>
                        <variable name="maxagechildren1" type="number" description=''>
                                <value>500</value>
                        </variable>
                        <variable name="dans_cachedir1" type="string" description=''>
				<value>/tmp</value>
                        </variable>
                        <variable name="dans_maxramsize1" type="number" description=''>
				<value>5000</value>
                        </variable>
                        <variable name="dans_maxfilesize1" type="number" description=''>
				<value>5000</value>
                        </variable>
                        <variable name="unactive_dansguardian_auth1" type="string" description="Désactivation des plugins qui logguent l'authentification sur la zone 1" hidden="True">
                            <value>---</value>
                         </variable>

                         <variable name="maxchildren2" type="number" description=''>
                                 <value>80</value>
                         </variable>
                        <variable name="minchildren2" type="number" description=''>
                                <value>8</value>
                        </variable>
                        <variable name="minsparechildren2" type="number" description=''>
                                <value>4</value>
                        </variable>
                        <variable name="maxsparechildren2" type="number" description=''>
                                <value>32</value>
                        </variable>
                        <variable name="preforkchildren2" type="number" description=''>
                                <value>6</value>
                        </variable>
                        <variable name="maxagechildren2" type="number" description=''>
                                <value>500</value>
                        </variable>
                        <variable name="dans_cachedir2" type="string" description=''>
				<value>/tmp</value>
                        </variable>
                        <variable name="dans_maxramsize2" type="number" description=''>
				<value>5000</value>
                        </variable>
                        <variable name="dans_maxfilesize2" type="number" description=''>
				<value>5000</value>
                        </variable>
                        <variable name="unactive_dansguardian_auth2" type="string" description="Désactivation des plugins qui logguent l'authentification sur la zone 2" hidden="True">
                            <value>---</value>
                         </variable>
                </family>
        </variables>
        <constraints>
            <!--variables communes aux deux zones-->
                <check name='obligatoire' target='dans_num_opt_filters'/>
                <check name="valid_enum" target="dans_num_opt_filters">
                    <param>['0','1','2','3','4']</param>
                </check>
            <!--variables de la zone 1 ( 0)-->
                <check name='obligatoire' target='maxchildren1'/>
                <check name='obligatoire' target='minchildren1'/>
                <check name='obligatoire' target='minsparechildren1'/>
                <check name='obligatoire' target='maxsparechildren1'/>
                <check name='obligatoire' target='preforkchildren1'/>
                <check name='obligatoire' target='maxagechildren1'/>
                <check name='obligatoire' target='unactive_dansguardian_auth1'/>
                <check name="valid_entier" target="maxchildren1">
                    <param name="mini">60</param>
                    <param name="maxi">255</param>
                </check>
                <check name="valid_enum" target="unactive_dansguardian_auth1" >
                    <param>['---', 'oui','non']</param>
                </check>

            <!--variables de la zone 2 ( 1) -->
                <check name='obligatoire' target='maxchildren2'/>
                <check name='obligatoire' target='minchildren2'/>
                <check name='obligatoire' target='minsparechildren2'/>
                <check name='obligatoire' target='maxsparechildren2'/>
                <check name='obligatoire' target='preforkchildren2'/>
                <check name='obligatoire' target='maxagechildren2'/>
                <check name='obligatoire' target='unactive_dansguardian_auth2'/>
                <check name="valid_entier" target="maxchildren2">
                    <param name="mini">60</param>
                    <param name="maxi">255</param>
                </check>
                <check name="valid_enum" target="unactive_dansguardian_auth2" >
                    <param>['---','oui','non']</param>
                </check>
        </constraints>
        <help>
            <variable name='dans_num_opt_filters'>
                Nombre de politique optionnelle (1, 2 et 3) à activer, diminuer permet un gain de performance.
            </variable>
        </help>
</creole>

