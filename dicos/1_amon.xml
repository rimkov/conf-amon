<?xml version="1.0" encoding="utf-8"?>

<creole>
	<files>
	<service>bastion</service>
        <file name='/etc/sysctl.conf'/>
        <file name='/etc/chkrootkit.conf'/>
        <file name='/etc/crontab'/>
        <file name='/etc/fwlogwatch.config'/>
        <file name='/etc/host.conf'/>
        <file name='/etc/hosts.allow'/>
	<file name='/etc/logrotate.conf'/>
        <file name='/etc/sudoers' mode="0440"/>
        <file name='/etc/ulogd.conf'/>
	<file name='/etc/webalizer.conf'/>
	<file name='/usr/share/eole/firewall.stop' mode='755'/>
        <file name='/usr/share/era/backend/data/active_tags'/>
	<file name='/var/spool/cron/root' source='cron-root'/>
	<file name='/usr/lib/cgi-bin/filtre.cgi'/>
	<file name='/etc/sysconfig/eole/services/0_services.srv' source='services'/>
	<file name='/etc/default/dhcp3-relay'/>
	<file name='/etc/nsswitch.conf'/>
	<file name='/etc/ldap.conf'/>
	<file name='/etc/default/nuauth'/>
        <file name='/etc/default/nufw'/>
        <file name='/etc/sysconfig/killp2p'/>
        <file name='/etc/init.d/l7filter' />
	<file filelist='nufw' name='/etc/nufw/nuauth.conf'/>
	<file filelist='nufw' name='/etc/pam.d/nuauth' source='nuauth.pamd'/>
	<file filelist='nufw' name='/etc/init.d/nufw' source='nufw.init'/>

	</files>
	<!--************************************************************************************************* -->
	<variables>
		<family name='general'>
			<variable name='eole_module' type='string' description="Module installé" hidden='True'/>
			<variable name='nuauth_tls_key' type='string' description="Clef privée pour Nuauth" hidden='True'/>
			<variable name='nuauth_tls_cert' type='string' description="Certificat pour Nuauth" hidden='True'/>
			<variable name='nuauth_tls_cacert' type='string' description="Certification pour Nuauth" hidden='True'/>
      <!--**** Reseau Global **** -->
			<variable name='type_amon' type='string' description='Modèle de filtrage' />
                        <!--FIXME<variable name='nombre_interfaces' type='string' description="Nombre d'interfaces à activer sur le pare-feu" >
 				<value>2</value>
 			</variable>-->
			<!--<variable name='nom_machine' type='string' description='Nom de la machine' >
				<value>pf-amon</value>
			</variable>-->
			<variable name='interface_gw' type='string' description='Interface de sortie'>
				<value>eth0</value>
			</variable>
 			<variable name='install_scribe_dmz' type='string' description="Activer la gestion d'un Scribe dans la DMZ" >
 				<value>non</value>
 			</variable>
			<variable name='type_maj' type='string' description='Niveau de mise à jour' >
				<value>minimum</value>
			</variable>
			<variable name='url_maj_blacklist' type='string' description='URL mise à jour des blacklists' >
				<value>http://eole.orion.education.fr/maj/blacklists</value>
			</variable>
		</family>
	<!--************************************************************************************************* -->
		<family name='services'>
 			<variable name='activer_sonde_prelude' type='string' description="Gestion des sondes Prelude" >
                                <value>non</value>
                        </variable>
			<variable name='install_rvp' type='string' description='Activation du RVP' >
 				<value>non</value>
 			</variable>
			<variable name='active_nufw' type='string' description="Activation de l'authentification réseau (NuFW)" >
				<value>non</value>
			</variable>
                        <variable name='filtrage_p2p' type='string' description="Système de filtrage P2P" >
                                <value>l7filter</value>
                        </variable>
 			<variable name='activer_bacula' type='string' description='Activation du client Bacula (sauvegardes)' >
 				<value>non</value>
			</variable>
			<variable  name='active_sarg' type='string' description="Activation de SARG, générateur de statistiques Proxy/filtrage web (Squid/DansGuardian)">
				<value>non</value>
      			</variable>
		</family>
	<!--************************************************************************************************* -->
		<family name='Interface-0'>
			<!-- **** Interface externe **** -->
			<variable name='alias_eth0' type='string' description="Ajouter des IP alias sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='alias_ip_eth0' type='ip' description="Adresse IP alias pour l'interface externe" multi='True' />
			<variable name='alias_netmask_eth0' type='netmask' description="Masque de sous réseau correspondant à cet alias" >
			</variable>
			<variable name='alias_network_eth0' type='ip' description="Adresse réseau correspondant à cet alias" />
			<variable name='alias_broadcast_eth0' type='ip' description="Adresse broadcast correspondant à cet alias" />
			<variable name='alias_gw_eth0' type='string' description='Adresse de la passerelle pour cet alias. Optionnelle, uniquement si multi-routeur ("aucun" si rien)'>
				<value>aucun</value>
			</variable>
			<variable name='vlan_eth0' type='string' description="Activer le support des VLAN sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='id_vlan_eth0' type='string' description="Numéro d'identifiant du VLAN" multi='True' />
			<variable name='adresse_ip_vlan_eth0' type='ip' description="Adresse IP de l'interface dans ce VLAN" />
			<variable name='adresse_netmask_vlan_eth0' type='netmask' description="Masque de sous réseau de l'interface dans ce VLAN" >
				<value>255.255.255.0</value>
			</variable>
            		<variable name='adresse_network_vlan_eth0' type='ip' description="Adresse réseau de l'interface dans ce VLAN" />
			<variable name='adresse_broadcast_vlan_eth0' type='ip' description="Adresse de broadcast de l'interface dans ce VLAN" />
			<variable name='adresse_gw_vlan_eth0' type='string' description='Adresse de la passerelle pour ce VLAN. Optionnelle, uniquement si multi-routeur ("Aucun" si rien)'>
				<value>aucun</value>
			</variable>
		</family>

		<!-- **** Interface interne 1 **** -->
		<family name='Interface-1'>
 			<variable name='nom_machine_eth1' type='string' description="Nom à donner à l'interface (pour résolution DNS)" >
 				<value>admin</value>
 			</variable>
			<variable name='alias_eth1' type='string' description="Ajouter des IP alias sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='alias_ip_eth1' type='ip' description="Adresse IP Alias pour l'interface interne 1 (ou rien)" multi='True' />
			<variable name='alias_netmask_eth1' type='netmask' description="Masque de sous réseau correspondant à cet alias" >
			</variable>
			<variable name='alias_network_eth1' type='ip' description="Adresse réseau correspondant à cet alias" />
			<variable name='alias_broadcast_eth1' type='ip' description="Adresse broadcast correspondant à cet alias" />
			<variable name='vlan_eth1' type='string' description="Activer le support des VLAN sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='id_vlan_eth1' type='string' description="Numéro d'identifiant du VLAN" multi='True' />
			<variable name='adresse_ip_vlan_eth1' type='ip' description="Adresse IP de l'interface dans ce VLAN" />
			<variable name='adresse_netmask_vlan_eth1' type='netmask' description="Masque de sous réseau de l'interface dans ce VLAN" >
				<value>255.255.255.0</value>
			</variable>
            		<variable name='adresse_network_vlan_eth1' type='ip' description="Adresse réseau de l'interface dans ce VLAN" />
			<variable name='adresse_broadcast_vlan_eth1' type='ip' description="Adresse de broadcast de l'interface dans ce VLAN" />
			<variable name='nuauth_eth1' type='string' description="Activer l'authentification NuAuth sur cette interface" >
				<value>non</value>
			</variable>
		</family>

		<!--**** Interfaces 2 **** -->
		<family name='Interface-2' hidden='True'>
 			<variable name='nom_machine_eth2' type='string' description="Nom à donner à l'interface (pour resolution DNS)" >
 				<value>pedago</value>
 			</variable>
			<variable name='alias_eth2' type='string' description="Ajouter des IP alias sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='alias_ip_eth2' type='ip' description="Adresse IP alias pour l'interface (ou rien)" multi='True' />
			<variable name='alias_netmask_eth2' type='netmask' description="Masque de sous réseau correspondant à cet alias" >
			</variable>
			<variable name='alias_network_eth2' type='ip' description="Adresse réseau correspondant à cet alias" />
			<variable name='alias_broadcast_eth2' type='ip' description="Adresse broadcast correspondant à cet alias" />
			<variable name='vlan_eth2' type='string' description="Activer le support des VLAN sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='id_vlan_eth2' type='string' description="Numéro d'identifiant du VLAN" multi='True' />
			<variable name='adresse_ip_vlan_eth2' type='ip' description="Adresse IP de l'interface dans ce VLAN" />
			<variable name='adresse_netmask_vlan_eth2' type='netmask' description="Masque de sous réseau de l'interface dans ce VLAN" >
				<value>255.255.255.0</value>
			</variable>
            		<variable name='adresse_network_vlan_eth2' type='ip' description="Adresse réseau de l'interface dans ce VLAN" />
			<variable name='adresse_broadcast_vlan_eth2' type='ip' description="Adresse de broadcast de l'interface dans ce VLAN" />
			<variable name='nuauth_eth2' type='string' description="Activer l'authentification NuAuth sur cette interface" >
				<value>non</value>
			</variable>
		</family>

		<!--**** Interfaces 3 **** -->
		<family name='Interface-3' hidden='True'>
 			<variable name='nom_machine_eth3' type='string' description="Nom à donner à l'interface (pour resolution DNS)" >
 				<value>dmz-priv</value>
 			</variable>
			<variable name='alias_eth3' type='string' description="Ajouter des IP alias sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='alias_ip_eth3' type='ip' description="Adresse IP alias pour l'interface (ou rien)" multi='True' />
			<variable name='alias_netmask_eth3' type='netmask' description="Masque de sous réseau correspondant à cet alias" >
			</variable>
			<variable name='alias_network_eth3' type='ip' description="Adresse réseau correspondant à cet alias" />
			<variable name='alias_broadcast_eth3' type='ip' description="Adresse broadcast correspondant à cet alias" />
			<variable name='vlan_eth3' type='string' description="Activer le support des VLAN sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='id_vlan_eth3' type='string' description="Numéro d'identifiant du VLAN" multi='True' />
			<variable name='adresse_ip_vlan_eth3' type='ip' description="Adresse IP de l'interface dans ce VLAN" />
			<variable name='adresse_netmask_vlan_eth3' type='netmask' description="Masque de sous réseau de l'interface dans ce VLAN" >
				<value>255.255.255.0</value>
			</variable>
            		<variable name='adresse_network_vlan_eth3' type='ip' description="Adresse réseau de l'interface dans ce VLAN" />
			<variable name='adresse_broadcast_vlan_eth3' type='ip' description="Adresse de broadcast de l'interface dans ce VLAN" />
			<variable name='nuauth_eth3' type='string' description="Activer l'authentification NuAuth sur cette interface" >
				<value>non</value>
			</variable>
		</family>

		<!--**** Interfaces 4 **** -->
		<family name='Interface-4' hidden='True'>
 			<variable name='nom_machine_eth4' type='string' description="Nom à donner à l'interface (pour resolution DNS)" >
 				<value>dmz-pub</value>
 			</variable>
			<variable name='alias_eth4' type='string' description="Ajouter des IP alias sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='alias_ip_eth4' type='ip' description="Adresse IP alias pour l'interface (ou rien)" multi='True' />
			<variable name='alias_netmask_eth4' type='netmask' description="Masque de sous réseau correspondant à cet alias" >
			</variable>
			<variable name='alias_network_eth4' type='ip' description="Adresse réseau correspondant à cet alias" />
			<variable name='alias_broadcast_eth4' type='ip' description="Adresse broadcast correspondant à cet alias" />
			<variable name='vlan_eth4' type='string' description="Activer le support des VLAN sur l'interface" >
				<value>non</value>
			</variable>
			<variable name='id_vlan_eth4' type='string' description="Numéro d'identifiant du VLAN" multi='True' />
			<variable name='adresse_ip_vlan_eth4' type='ip' description="Adresse IP de l'interface dans ce VLAN" />
			<variable name='adresse_netmask_vlan_eth4' type='netmask' description="Masque de sous réseau de l'interface dans ce VLAN" >
				<value>255.255.255.0</value>
			</variable>
            		<variable name='adresse_network_vlan_eth4' type='ip' description="Adresse réseau de l'interface dans ce VLAN" />
			<variable name='adresse_broadcast_vlan_eth4' type='ip' description="Adresse de broadcast de l'interface dans ce VLAN" />
			<variable name='nuauth_eth4' type='string' description="Activer l'authentification NuAuth sur cette interface" >
				<value>non</value>
			</variable>
		</family>
	<!--************************************************************************************************* -->
		<family name='RVP' hidden='True'>
 			<variable name='agriates_member' type='string' description='Serveur membre du réseau AGRIATES' >
 				<value>non</value>
 			</variable>
 	                <variable name='adresse_network_zone_rvp' type='ip' description='Adresse réseau de la zone RVP' multi='True' />
  	                <variable name='adresse_netmask_zone_rvp' type='netmask' description='Masque de sous-réseau de la zone RVP' />
  	                <variable name='autoriser_rvp_autres' type='string' description="Autoriser d'autres zones que eth1 à accéder à ce réseau">
  	                        <value>non</value>
  	                </variable>
			<variable name='magic_rvp_inter' type='number' description='Intervalle (en min) entre deux tests de bon fonctionnement du RVP (magic-rvp)'>
				<value>10</value>
			</variable>
		</family>
		<family name='Scribe-DMZ' hidden='True'>
			<variable name='nom_serveur_scribe_dmz' type='string' description='Nom du Scribe dans la DMZ (pour enregistrement DNS)' />
			<variable name='ip_serveur_scribe_dmz' type='ip' description='Adresse IP du Scribe dans la DMZ' />
 			<variable name='activer_dhcprelay' type='string' description='Activation du relais DHCP' >
 				<value>non</value>
 			</variable>
		</family>
		<family name='Nufw' hidden='True'>
			<variable name='nuauth_nss_ldap_host' type='ip' description="Adresse du serveur LDAP pour l'authentification NuFW" />
			<variable name='nuauth_nss_ldap_dn' type='string' description="Suffixe racine de l'annuaire LDAP (base DN)">
              			<value>o=gouv,c=fr</value>
			</variable>
			<variable name='nuauth_nss_ldap_tls' type='string' description="Activation du chiffrement de l'authentification (TLS)">
				<value>oui</value>
			</variable>
		</family>

	<!--************************************************************************************************* -->
		<family name='nufw-options' mode='expert'>
			<variable name='nuauth_verbosity' type='Number' description='Niveau de verbosité du démon Nuauth'>
				<value>3</value>
			</variable>
		</family>
	<!--************************************************************************************************* -->
		<family mode="expert" name="reseau-avance">
			<variable description="Désactiver le path MTU discovery, le bit DF est positionné à 0" hidden="False" multi="False" name="ip_no_pmtu_disc" type="string">
				<value>oui</value>
			</variable>
			<variable description="Valeur du MTU pour l'interface eth0 : rien = valeur par defaut de l'interface" hidden="False" multi="False" name="valeur_mtu_eth0" type="Number" />
			<variable description="Valeur du MTU pour l'interface ppp0 : rien = valeur par defaut de l'interface" hidden="False" multi="False" name="valeur_mtu_ppp0" type="Number" />
			<variable name='debit_carte_eth0' type='string' description="Mode de connexion pour l'interface exterieur" />
			<variable name='debit_carte_eth1' type='string' description="Mode de connexion pour l'interface interne 1" />
			<variable name='debit_carte_eth2' type='string' description="Mode de connexion pour l'interface interne 2" />
			<variable name='debit_carte_eth3' type='string' description="Mode de connexion pour l'interface interne 3" />
			<variable name='debit_carte_eth4' type='string' description="Mode de connexion pour l'interface interne 4" />
		</family>
	<!--************************************************************************************************* -->
			<separators>
				<separator name='type_amon'>Paramètres réseau globaux</separator>
				<separator name='active_nufw'>NuFW (Now User Filtering Works)</separator>
                                <separator name='filtrage_p2p'>Système de filtrage P2P</separator>
				<separator name='alias_eth0'>Configuration des alias sur l'interface</separator>
				<separator name='vlan_eth0'>Configuration des VLAN sur l'interface</separator>
				<separator name='alias_eth1'>Configuration des alias sur l'interface</separator>
				<separator name='vlan_eth1'>Configuration des VLAN sur l'interface</separator>
				<separator name='alias_eth2'>Configuration des alias sur l'interface</separator>
				<separator name='vlan_eth2'>Configuration des VLAN sur l'interface</separator>
				<separator name='alias_eth3'>Configuration des alias sur l'interface</separator>
				<separator name='vlan_eth3'>Configuration des VLAN sur l'interface</separator>
				<separator name='alias_eth4'>Configuration des alias sur l'interface</separator>
				<separator name='vlan_eth4'>Configuration des VLAN sur l'interface</separator>
				<separator name='nom_cache_pere'>Proxy pere general</separator>
				<separator name='nom_domaine_local_supp'>Ajout de domaines locaux supplémentaires (DNS master sur ces domaines)</separator>
				<separator name='adresse_network_zone_rvp'>Accès RVP par le proxy</separator>
				<separator name='debit_carte_eth0'>Configuration avancée de l'interface externe</separator>
				<separator name='debit_carte_eth1'>Configuration avancée de l'interface interne 1</separator>
				<separator name='debit_carte_eth2'>Configuration avancée de l'interface interne 2</separator>
				<separator name='debit_carte_eth3'>Configuration avancée de l'interface interne 3</separator>
				<separator name='debit_carte_eth4'>Configuration avancée de l'interface interne 4</separator>
				<separator name='activer_bacula'>Sauvegardes</separator>
				<separator name='activer_sonde_prelude'>Activation des sondes Prelude</separator>
				<separator name='install_rvp'>Réseau Virtuel Privé (RVP)</separator>
			</separators>
	</variables>
	<constraints>
	<!--************************************************************************************************* -->
		<fill name='calc_network' target='alias_network_eth0'>
			<param type='eole' name='ip'>alias_ip_eth0</param>
			<param type='eole' name='netmask'>alias_netmask_eth0</param>
		</fill>
		<fill name='calc_network' target='alias_network_eth1'>
			<param type='eole' name='ip'>alias_ip_eth1</param>
			<param type='eole' name='netmask'>alias_netmask_eth1</param>
		</fill>
		<fill name='calc_network' target='alias_network_eth2'>
			<param type='eole' name='ip'>alias_ip_eth2</param>
			<param type='eole' name='netmask'>alias_netmask_eth2</param>
		</fill>
		<fill name='calc_network' target='alias_network_eth3'>
			<param type='eole' name='ip'>alias_ip_eth3</param>
			<param type='eole' name='netmask'>alias_netmask_eth3</param>
		</fill>
		<fill name='calc_network' target='alias_network_eth4'>
			<param type='eole' name='ip'>alias_ip_eth4</param>
			<param type='eole' name='netmask'>alias_netmask_eth4</param>
		</fill>
		<fill name='calc_network' target='adresse_network_vlan_eth0'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth0</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth0</param>
		</fill>
		<fill name='calc_network' target='adresse_network_vlan_eth1'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth1</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth1</param>
		</fill>
		<fill name='calc_network' target='adresse_network_vlan_eth2'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth2</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth2</param>
		</fill>
		<fill name='calc_network' target='adresse_network_vlan_eth3'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth3</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth3</param>
		</fill>
		<fill name='calc_network' target='adresse_network_vlan_eth4'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth4</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth4</param>
		</fill>
		<fill name='calc_broadcast' target='alias_broadcast_eth0'>
			<param type='eole' name='ip'>alias_ip_eth0</param>
			<param type='eole' name='netmask'>alias_netmask_eth0</param>
		</fill>
		<fill name='calc_broadcast' target='alias_broadcast_eth1'>
			<param type='eole' name='ip'>alias_ip_eth1</param>
			<param type='eole' name='netmask'>alias_netmask_eth1</param>
		</fill>
		<fill name='calc_broadcast' target='alias_broadcast_eth2'>
			<param type='eole' name='ip'>alias_ip_eth2</param>
			<param type='eole' name='netmask'>alias_netmask_eth2</param>
		</fill>
		<fill name='calc_broadcast' target='alias_broadcast_eth3'>
			<param type='eole' name='ip'>alias_ip_eth3</param>
			<param type='eole' name='netmask'>alias_netmask_eth3</param>
		</fill>
		<fill name='calc_broadcast' target='alias_broadcast_eth4'>
			<param type='eole' name='ip'>alias_ip_eth4</param>
			<param type='eole' name='netmask'>alias_netmask_eth4</param>
		</fill>
		<fill name='calc_broadcast' target='adresse_broadcast_vlan_eth0'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth0</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth0</param>
		</fill>
		<fill name='calc_broadcast' target='adresse_broadcast_vlan_eth1'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth1</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth1</param>
		</fill>
		<fill name='calc_broadcast' target='adresse_broadcast_vlan_eth2'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth2</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth2</param>
		</fill>
		<fill name='calc_broadcast' target='adresse_broadcast_vlan_eth3'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth3</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth3</param>
		</fill>
		<fill name='calc_broadcast' target='adresse_broadcast_vlan_eth4'>
			<param type='eole' name='ip'>adresse_ip_vlan_eth4</param>
			<param type='eole' name='netmask'>adresse_netmask_vlan_eth4</param>
		</fill>
		<fill name='calc_val' target='alias_netmask_eth0'>
			<param type='eole' name='valeur'>adresse_netmask_eth0</param>
		</fill>
		<fill name='calc_val' target='alias_netmask_eth1'>
			<param type='eole' name='valeur'>adresse_netmask_eth1</param>
		</fill>
		<fill name='calc_val' target='alias_netmask_eth2'>
			<param type='eole' name='valeur'>adresse_netmask_eth2</param>
		</fill>
		<fill name='calc_val' target='alias_netmask_eth3'>
			<param type='eole' name='valeur'>adresse_netmask_eth3</param>
		</fill>
		<fill name='calc_val' target='alias_netmask_eth4'>
			<param type='eole' name='valeur'>adresse_netmask_eth4</param>
		</fill>

		<auto name='auto_module' target='eole_module'/>
		<auto name='key_nuauth' target='nuauth_tls_key'/>
		<auto name='cert_nuauth' target='nuauth_tls_cert'/>
		<auto name='cacert_nuauth' target='nuauth_tls_cacert'/>

	<!-- **** champs obligatoires **** -->
		<check name='obligatoire' target='nom_machine_eth1'/>

		<check name='obligatoire' target='interface_gw'/>
		<check name='obligatoire' target='nuauth_nss_ldap_host'/>
		<check name='obligatoire' target='nuauth_nss_ldap_dn'/>


	<!-- **** Listes deroulantes **** -->
                <check name="valid_enum" target="type_amon">
                  <param type="python">eosfunc.list_files('/usr/share/era/modeles','*.xml',True,default=['2zones', '3zones-amonecole-eclair-nginx', '3zones-amonecole-eclair', '3zones-amonecole-nginx', '3zones-amonecole', '3zones-scribe-posh-nginx', '3zones-scribe', '3zones', '4zones-scribe-nufw', '4zones-scribe-posh-nginx', '4zones-scribe', '4zones', '5zones', 'minimal'])</param>
		  <param name="checkval">False</param>
                </check>
                <check name='valid_enum' target='type_maj'>
                  <param>['minimum','complete']</param>
                </check>
		<check name='valid_enum' target='active_sarg'>
                  <param>['oui','non']</param>
		</check>
		<check name="valid_enum" target="activer_sonde_prelude">
                  <param>['oui','non']</param>
                </check>
                <check name="valid_enum" target="install_rvp">
                  <param>['oui','non']</param>
                </check>
                <check name="valid_enum" target="install_scribe_dmz">
                  <param>['oui','non']</param>
                </check>
                <check name='valid_enum' target='agriates_member'>
                  <param>['oui','non']</param>
                </check>
                <check name='valid_enum' target='activer_dhcprelay'>
                  <param>['oui','non']</param>
                </check>
		<check name="valid_enum" target='active_nufw'>
			<param>['oui','non']</param>
		</check>
                <check name="valid_enum" target='filtrage_p2p'>
                        <param>['l7filter','ipp2p']</param>
                </check>
		<check name="valid_enum" target='nuauth_nss_ldap_tls'>
			<param>['oui','non']</param>
		</check>
                <!--FIXME<check name="valid_enum" target="eth0_method">
                  <param>['statique','dhcp','pppoe']</param>
                </check>-->
		<check name="valid_enum" target='alias_eth0'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='vlan_eth0'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='alias_eth1'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='vlan_eth1'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='nuauth_eth1'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='alias_eth2'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='vlan_eth2'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='nuauth_eth2'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='alias_eth3'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='vlan_eth3'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='nuauth_eth3'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='alias_eth4'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='vlan_eth4'>
			<param>['oui','non']</param>
		</check>
		<check name="valid_enum" target='nuauth_eth4'>
			<param>['oui','non']</param>
		</check>
                <check name="valid_enum" target="autoriser_rvp_autres">
                        <param>['oui','non']</param>
                </check>
                <check name='valid_enum' target='activer_bacula'>
                  <param>['oui','non']</param>
                </check>
               <check name="valid_enum" target='ip_no_pmtu_disc'>
                       <param>['oui','non']</param>
               </check>
                <check name="valid_enum" target="nuauth_verbosity">
                  <param>['1','2','3','4','5','6','7','8','9']</param>
                </check>
	        <check name='valid_enum' target='debit_carte_eth0'>
                	<param>['','speed 100 duplex full autoneg off','autoneg on','speed 10 duplex half autoneg off','speed 1000 duplex full autoneg off']</param>
                </check>
	        <check name='valid_enum' target='debit_carte_eth1'>
                	<param>['','speed 100 duplex full autoneg off','autoneg on','speed 10 duplex half autoneg off','speed 1000 duplex full autoneg off']</param>
                </check>
	        <check name='valid_enum' target='debit_carte_eth2'>
                	<param>['','speed 100 duplex full autoneg off','autoneg on','speed 10 duplex half autoneg off','speed 1000 duplex full autoneg off']</param>
                </check>
	        <check name='valid_enum' target='debit_carte_eth3'>
                	<param>['','speed 100 duplex full autoneg off','autoneg on','speed 10 duplex half autoneg off','speed 1000 duplex full autoneg off']</param>
                </check>
	        <check name='valid_enum' target='debit_carte_eth4'>
                	<param>['','speed 100 duplex full autoneg off','autoneg on','speed 10 duplex half autoneg off','speed 1000 duplex full autoneg off']</param>
                </check>

	<!-- **** Conditions **** -->
		<condition name='hidden_if_in' source='eole_module'>
			<param>amonecole</param>
			<target type='variable'>install_scribe_dmz</target>
		</condition>
                 <condition name='hidden_if_in' source='activer_sonde_prelude'>
                	<param>non</param>
			<target type='family'>Sondes</target>
		</condition>
               <condition name='hidden_if_in' source='install_rvp'>
                	<param>non</param>
			<target type='family'>RVP</target>
                </condition>
                <condition name='hidden_if_in' source='install_scribe_dmz'>
                	<param>non</param>
			<target type='family'>Scribe-DMZ</target>
                </condition>
		<condition name='hidden_if_in' source='active_nufw'>
			<param>non</param>
			<target type='family'>Nufw</target>
			<target type='family'>nufw-options</target>
			<target type='variable'>nuauth_eth1</target>
			<target type='variable'>nuauth_eth2</target>
			<target type='variable'>nuauth_eth3</target>
			<target type='variable'>nuauth_eth4</target>
			<target type='filelist'>nufw</target>
		</condition>
		<condition name='hidden_if_in' source='alias_eth0'>
			<param>non</param>
                	<target type='variable'>alias_ip_eth0</target>
                	<target type='variable'>alias_netmask_eth0</target>
                	<target type='variable'>alias_network_eth0</target>
                	<target type='variable'>alias_broadcast_eth0</target>
                	<target type='variable'>alias_gw_eth0</target>
		</condition>
		<condition name='hidden_if_in' source='vlan_eth0'>
			<param>non</param>
               		<target type='variable'>id_vlan_eth0</target>
                	<target type='variable'>adresse_ip_vlan_eth0</target>
                	<target type='variable'>adresse_netmask_vlan_eth0</target>
                	<target type='variable'>adresse_network_vlan_eth0</target>
                	<target type='variable'>adresse_broadcast_vlan_eth0</target>
                	<target type='variable'>adresse_gw_vlan_eth0</target>
		</condition>
		<condition name='hidden_if_in' source='alias_eth1'>
			<param>non</param>
                	<target type='variable'>alias_ip_eth1</target>
                	<target type='variable'>alias_netmask_eth1</target>
                	<target type='variable'>alias_network_eth1</target>
                	<target type='variable'>alias_broadcast_eth1</target>
		</condition>
		<condition name='hidden_if_in' source='vlan_eth1'>
			<param>non</param>
                	<target type='variable'>id_vlan_eth1</target>
                	<target type='variable'>adresse_ip_vlan_eth1</target>
                	<target type='variable'>adresse_netmask_vlan_eth1</target>
                	<target type='variable'>adresse_network_vlan_eth1</target>
                	<target type='variable'>adresse_broadcast_vlan_eth1</target>
		</condition>
		<condition name='hidden_if_in' source='alias_eth2'>
			<param>non</param>
                	<target type='variable'>alias_ip_eth2</target>
                	<target type='variable'>alias_netmask_eth2</target>
                	<target type='variable'>alias_network_eth2</target>
                	<target type='variable'>alias_broadcast_eth2</target>
		</condition>
		<condition name='hidden_if_in' source='vlan_eth2'>
			<param>non</param>
                	<target type='variable'>id_vlan_eth2</target>
                	<target type='variable'>adresse_ip_vlan_eth2</target>
                	<target type='variable'>adresse_netmask_vlan_eth2</target>
                	<target type='variable'>adresse_network_vlan_eth2</target>
                	<target type='variable'>adresse_broadcast_vlan_eth2</target>
		</condition>
		<condition name='hidden_if_in' source='alias_eth3'>
			<param>non</param>
                	<target type='variable'>alias_ip_eth3</target>
                	<target type='variable'>alias_netmask_eth3</target>
                	<target type='variable'>alias_network_eth3</target>
                	<target type='variable'>alias_broadcast_eth3</target>
		</condition>
		<condition name='hidden_if_in' source='vlan_eth3'>
			<param>non</param>
                	<target type='variable'>id_vlan_eth3</target>
                	<target type='variable'>adresse_ip_vlan_eth3</target>
                	<target type='variable'>adresse_netmask_vlan_eth3</target>
                	<target type='variable'>adresse_network_vlan_eth3</target>
                	<target type='variable'>adresse_broadcast_vlan_eth3</target>
		</condition>
		<condition name='hidden_if_in' source='alias_eth4'>
			<param>non</param>
                	<target type='variable'>alias_ip_eth4</target>
                	<target type='variable'>alias_netmask_eth4</target>
                	<target type='variable'>alias_network_eth4</target>
                	<target type='variable'>alias_broadcast_eth4</target>
		</condition>
		<condition name='hidden_if_in' source='vlan_eth4'>
			<param>non</param>
                	<target type='variable'>id_vlan_eth4</target>
                	<target type='variable'>adresse_ip_vlan_eth4</target>
                	<target type='variable'>adresse_netmask_vlan_eth4</target>
                	<target type='variable'>adresse_network_vlan_eth4</target>
                	<target type='variable'>adresse_broadcast_vlan_eth4</target>
		</condition>
		<condition name='hidden_if_in' source='active_nufw'>
			<param>non</param>
			<target type='variable'>nuauth_verbosity</target>
		</condition>

	<!-- **** Groupes **** -->
		 <group master='alias_ip_eth0'>
                        <slave>alias_netmask_eth0</slave>
                        <slave>alias_network_eth0</slave>
                        <slave>alias_broadcast_eth0</slave>
                        <slave>alias_gw_eth0</slave>
                 </group>
		 <group master='id_vlan_eth0'>
                        <slave>adresse_ip_vlan_eth0</slave>
                        <slave>adresse_netmask_vlan_eth0</slave>
                        <slave>adresse_network_vlan_eth0</slave>
                        <slave>adresse_broadcast_vlan_eth0</slave>
                        <slave>adresse_gw_vlan_eth0</slave>
                 </group>
		 <group master='alias_ip_eth1'>
                        <slave>alias_netmask_eth1</slave>
                        <slave>alias_network_eth1</slave>
                        <slave>alias_broadcast_eth1</slave>
                 </group>
		 <group master='id_vlan_eth1'>
                        <slave>adresse_ip_vlan_eth1</slave>
                        <slave>adresse_netmask_vlan_eth1</slave>
                        <slave>adresse_network_vlan_eth1</slave>
                        <slave>adresse_broadcast_vlan_eth1</slave>
                 </group>
		 <group master='alias_ip_eth2'>
                        <slave>alias_netmask_eth2</slave>
                        <slave>alias_network_eth2</slave>
                        <slave>alias_broadcast_eth2</slave>
                 </group>
		 <group master='id_vlan_eth2'>
                        <slave>adresse_ip_vlan_eth2</slave>
                        <slave>adresse_netmask_vlan_eth2</slave>
                        <slave>adresse_network_vlan_eth2</slave>
                        <slave>adresse_broadcast_vlan_eth2</slave>
                 </group>
		 <group master='alias_ip_eth3'>
                        <slave>alias_netmask_eth3</slave>
                        <slave>alias_network_eth3</slave>
                        <slave>alias_broadcast_eth3</slave>
                 </group>
		 <group master='id_vlan_eth3'>
                        <slave>adresse_ip_vlan_eth3</slave>
                        <slave>adresse_netmask_vlan_eth3</slave>
                        <slave>adresse_network_vlan_eth3</slave>
                        <slave>adresse_broadcast_vlan_eth3</slave>
                 </group>
		 <group master='alias_ip_eth4'>
                        <slave>alias_netmask_eth4</slave>
                        <slave>alias_network_eth4</slave>
                        <slave>alias_broadcast_eth4</slave>
                 </group>
		 <group master='id_vlan_eth4'>
                        <slave>adresse_ip_vlan_eth4</slave>
                        <slave>adresse_netmask_vlan_eth4</slave>
                        <slave>adresse_network_vlan_eth4</slave>
                        <slave>adresse_broadcast_vlan_eth4</slave>
                 </group>
                 <group master='adresse_network_zone_rvp'>
                        <slave>adresse_netmask_zone_rvp</slave>
                        <slave>autoriser_rvp_autres</slave>
                 </group>
	</constraints>
	<!--************************************************************************************************* -->
	<help>
	</help>
</creole>
